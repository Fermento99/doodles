(()=>{"use strict";var t={256:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnimationController=i.setupDisplay=void 0;const e=t=>{t.width=document.body.clientWidth,t.height=document.body.clientHeight};i.setupDisplay=()=>{const t=document.getElementById("display");return window.addEventListener("resize",(()=>{e(t)})),e(t),t},i.AnimationController=class{constructor(){this._paused=!1,this._frameTime=16.6}setDrawing(t){this._drawing=t}setFPS(t){this._frameTime=1e3/t}start(){!this._drawing||this._animationFrame||this._timeout||(this._animationFrame=requestAnimationFrame((t=>{this.loop(t)})))}loop(t){var i,e;this._paused?(this._paused=!1,null===(i=this._drawing)||void 0===i||i.drawFrame(performance.now())):null===(e=this._drawing)||void 0===e||e.drawFrame(t);const s=this._frameTime-performance.now()+t;s>0?this._timeout=setTimeout((()=>{this._animationFrame=requestAnimationFrame((t=>{this.loop(t)}))}),s):this._animationFrame=requestAnimationFrame((t=>{this.loop(t)}))}stop(){var t;null===(t=this._drawing)||void 0===t||t.pause(),this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0),this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0)}}},285:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CtxHelper=void 0,i.CtxHelper=class{constructor(t){this.pointRadius=3,this.pointColor="gray",this.segmentWidth=2,this.segmentColor="#aaa",this._ctx=t}clear(t){this._ctx.clearRect(0,0,t.x,t.y)}drawPoint(t){this._ctx.beginPath(),this._ctx.fillStyle=this.pointColor,this._ctx.arc(t.x,t.y,this.pointRadius,0,2*Math.PI,!0),this._ctx.fill(),this._ctx.closePath()}drawSegment(t){this._ctx.beginPath(),this._ctx.strokeStyle=this.segmentColor,this._ctx.lineWidth=this.segmentWidth,this._ctx.moveTo(t[0].x,t[0].y),this._ctx.lineTo(t[1].x,t[1].y),this._ctx.stroke(),this._ctx.closePath()}}},300:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setupActions=void 0,i.setupActions=(t,i)=>{var e,s,n,o,a,r;null===(e=document.getElementById("reset"))||void 0===e||e.addEventListener("click",(()=>{t.setup(),t.drawFrame(0),t.pause()})),null===(s=document.getElementById("play"))||void 0===s||s.addEventListener("click",(()=>{i.start()})),null===(n=document.getElementById("pause"))||void 0===n||n.addEventListener("click",(()=>{i.stop()})),null===(o=document.getElementById("options"))||void 0===o||o.addEventListener("click",(()=>{var t;null===(t=document.getElementById("settings-modal"))||void 0===t||t.classList.remove("hidden")})),null===(a=document.getElementById("close"))||void 0===a||a.addEventListener("click",(()=>{var t;null===(t=document.getElementById("settings-modal"))||void 0===t||t.classList.add("hidden")})),null===(r=document.getElementById("save"))||void 0===r||r.addEventListener("click",(()=>{const i=parseInt(document.getElementById("point-count").value),e=parseInt(document.getElementById("radius").value),s=parseInt(document.getElementById("min-speed").value),n=parseInt(document.getElementById("max-speed").value);t.setOptions({pointCount:i,radius:e,minSpeed:s,maxSpeed:n}),t.setup()}))}},434:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Point=i.Connections=void 0;const s=e(285);i.Connections=class{constructor(t){this.points=[],this.pointCount=20,this.radius=250,this.minSpeed=20,this.maxSpeed=100,this._dimmentions={x:t.width,y:t.height},this._ctxHelper=new s.CtxHelper(t.getContext("2d")),window.addEventListener("resize",(()=>{this._dimmentions={x:t.width,y:t.height},this._ctxHelper=new s.CtxHelper(t.getContext("2d"))})),this.setup()}drawFrame(t){this.clear(),this.draw(),this.movePoints(this._lastTime?t-this._lastTime:0),this._lastTime=t}pause(){this._lastTime=void 0}setOptions(t){this.pointCount=t.pointCount,this.radius=t.radius,this.minSpeed=t.minSpeed,this.maxSpeed=t.maxSpeed}clear(){this._ctxHelper.clear(this._dimmentions)}draw(){this.getConnections().forEach((t=>{this._ctxHelper.drawSegment(t)})),this.points.forEach((({position:t})=>{this._ctxHelper.drawPoint(t)}))}setup(){this.points=Array.from({length:this.pointCount},(()=>new o(this._dimmentions,this.minSpeed,this.maxSpeed)))}movePoints(t){const i=t/1e3;this.points.forEach((t=>{t.position.x+=i*t.velocity.x,t.position.y+=i*t.velocity.y,t.checkBorderCollision(this._dimmentions)}))}getConnections(){const t=[];for(let i=0;i<this.pointCount;i++){const e=this.points[i];for(let s=i+1;s<this.pointCount;s++){const i=this.points[s],n=this.isConnected(e,i);n&&t.push(...n)}}return t}isConnected(t,i){const e=[t.position,i.position];return n(e)<this.radius?[e]:null}};const n=t=>{const i=t[0].x-t[1].x,e=t[0].y-t[1].y;return Math.pow(Math.pow(i,2)+Math.pow(e,2),.5)};class o{constructor(t,i,e){const s=Math.random()*(t.x-1),n=Math.random()*(t.y-1),o=e-i,a=Math.random()>.5?1:-1,r=Math.random()>.5?1:-1,d=Math.random()*o+i,h=Math.random()*o+i;this.position={x:s,y:n},this.velocity={x:d*a,y:h*r}}checkBorderCollision(t){this.position.x>t.x&&(this.position.x=2*t.x-this.position.x,this.velocity.x*=-1),this.position.y>t.y&&(this.position.y=2*t.y-this.position.y,this.velocity.y*=-1),this.position.x<0&&(this.velocity.x*=-1,this.position.x*=-1),this.position.y<0&&(this.velocity.y*=-1,this.position.y*=-1)}}i.Point=o}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var o=i[s]={exports:{}};return t[s](o,o.exports,e),o.exports}(()=>{const t=e(256),i=e(434),s=e(300),n=(0,t.setupDisplay)(),o=new t.AnimationController,a=new i.Connections(n);o.setDrawing(a),o.start(),(0,s.setupActions)(a,o)})()})();